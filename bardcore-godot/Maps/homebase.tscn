[gd_scene load_steps=24 format=3 uid="uid://cr1ydxfa4aiik"]

[ext_resource type="Script" uid="uid://crlcryk7jusqr" path="res://Maps/map_home.gd" id="1_fxw5g"]
[ext_resource type="PackedScene" uid="uid://cqu7spuwqnbsd" path="res://Maps/portal.tscn" id="2_df86j"]
[ext_resource type="PackedScene" uid="uid://c8tvjd728x7q" path="res://Maps/camera_system.tscn" id="2_v7h8f"]
[ext_resource type="PackedScene" uid="uid://dtrftm4tniuvl" path="res://Maps/sunlight.tscn" id="2_w8tnc"]
[ext_resource type="PackedScene" uid="uid://cuu4pv5q0cii1" path="res://Maps/Buildings/building_maker_fanfare.tscn" id="4_no1lh"]
[ext_resource type="PackedScene" uid="uid://b2awxuj51p6sk" path="res://Meshes/Nature/bush_l.tscn" id="4_yja0d"]
[ext_resource type="PackedScene" uid="uid://b4g0c6swxctq4" path="res://Maps/Buildings/building_guesthouse.tscn" id="5_0prmd"]
[ext_resource type="PackedScene" uid="uid://xcv8itqnlrlh" path="res://Meshes/Nature/bush_s.tscn" id="5_d75n0"]
[ext_resource type="PackedScene" uid="uid://clme8xwp12duo" path="res://Maps/Buildings/building_maker_fidel.tscn" id="5_w8tnc"]

[sub_resource type="PlaneMesh" id="PlaneMesh_qbut0"]
size = Vector2(45, 35)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_qbut0"]
albedo_color = Color(0.40392157, 0.23921569, 0.14901961, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_ljco0"]
size = Vector2(150, 150)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2oixm"]
albedo_color = Color(0.08111008, 0.1239166, 0.018113298, 1)

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_w8tnc"]
sky_top_color = Color(0.38083324, 0.562918, 0.7395231, 1)
sky_horizon_color = Color(0.7367734, 0.7745445, 0.80969584, 1)
ground_horizon_color = Color(0.7367734, 0.7745445, 0.80969584, 1)

[sub_resource type="Sky" id="Sky_v7h8f"]
sky_material = SubResource("ProceduralSkyMaterial_w8tnc")

[sub_resource type="Environment" id="Environment_ffh53"]
background_mode = 2
sky = SubResource("Sky_v7h8f")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_df86j"]

[sub_resource type="BoxShape3D" id="BoxShape3D_qbut0"]
size = Vector3(47.370117, 7.7929688, 2.0117188)

[sub_resource type="BoxShape3D" id="BoxShape3D_ljco0"]
size = Vector3(47.370117, 7.7929688, 2.0117188)

[sub_resource type="BoxShape3D" id="BoxShape3D_2oixm"]
size = Vector3(47.370117, 7.7929688, 2.0117188)

[sub_resource type="BoxShape3D" id="BoxShape3D_dtoj1"]
size = Vector3(16.576172, 7.7929688, 2.0117188)

[sub_resource type="CylinderMesh" id="CylinderMesh_df86j"]
top_radius = 3.0
bottom_radius = 3.0
height = 0.1

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ly701"]
albedo_color = Color(0.6004086, 0.33401474, 0.1412242, 1)

[node name="Homebase" type="Node3D" node_paths=PackedStringArray("spawn_position", "exit_portal", "cam")]
script = ExtResource("1_fxw5g")
spawn_position = NodePath("Exits/Spawn")
exit_portal = NodePath("Exits/Portal")
cam = NodePath("CameraArm")

[node name="CameraArm" parent="." instance=ExtResource("2_v7h8f")]
transform = Transform3D(0.9999999, 0, 0, 0, 0.812887, 0.58242065, 0, -0.58242065, 0.812887, 0, 1.5, -1.3411446)

[node name="Terrain" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.278862, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Terrain"]
transform = Transform3D(0.6742704, 0, 0, 0, 1, 0, 0, 0, 0.73544145, -2.451561, 0, 0)
mesh = SubResource("PlaneMesh_qbut0")
surface_material_override/0 = SubResource("StandardMaterial3D_qbut0")

[node name="Background" type="MeshInstance3D" parent="Terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.11501503, -0.01, -0.051662445)
mesh = SubResource("PlaneMesh_ljco0")
surface_material_override/0 = SubResource("StandardMaterial3D_2oixm")

[node name="WorldEnvironment" type="WorldEnvironment" parent="Terrain"]
environment = SubResource("Environment_ffh53")

[node name="DirectionalLight3D" parent="Terrain" instance=ExtResource("2_w8tnc")]
transform = Transform3D(0.5254748, -0.69024247, 0.4974351, 0.08959864, 0.62630445, 0.77441263, -0.8460782, -0.36236486, 0.39095196, 0.2685008, 5.4544697, 0)

[node name="Boundaries" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.278862, 0, 0)

[node name="Floor" type="StaticBody3D" parent="Boundaries"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Floor"]
shape = SubResource("WorldBoundaryShape3D_df86j")

[node name="Wall" type="StaticBody3D" parent="Boundaries"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.4027414, 0, -17.476318)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 3.6620111)
shape = SubResource("BoxShape3D_qbut0")

[node name="Wall2" type="StaticBody3D" parent="Boundaries"]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -2.4237976, 0, 17.523682)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Wall2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.172325e-07, 0, 3.7008286)
shape = SubResource("BoxShape3D_ljco0")

[node name="Wall3" type="StaticBody3D" parent="Boundaries"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -24.93187, 0, 0.016079903)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Wall3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.1851232e-07, 0, 6.3131924)
shape = SubResource("BoxShape3D_2oixm")

[node name="Wall5" type="StaticBody3D" parent="Boundaries"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 20.105402, 0, -10.704235)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Wall5"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6.388859)
shape = SubResource("BoxShape3D_dtoj1")

[node name="Wall6" type="StaticBody3D" parent="Boundaries"]
transform = Transform3D(-4.371139e-08, 0, -1, 0, 1, 0, 1, 0, -4.371139e-08, 20.105402, 0, 10.792435)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Boundaries/Wall6"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6.388859)
shape = SubResource("BoxShape3D_dtoj1")

[node name="Bits" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.278862, 0, 0)

[node name="MeshInstance3D13" type="MeshInstance3D" parent="Bits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.4679613, 0, 2.713478)
mesh = SubResource("CylinderMesh_df86j")
surface_material_override/0 = SubResource("StandardMaterial3D_ly701")

[node name="Bush_L" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(-0.7844765, 0, 1.0573393, 0, 1.316575, 0, -1.0573393, 0, -0.7844765, -4.5790462, 0.42038316, 3.8175783)

[node name="Bush_L2" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(1.2828366, -1.3621291e-09, -0.2961428, -0.12205542, 1.1995523, -0.52872175, 0.26982033, 0.5426271, 1.1688124, -9.161719, 0.4203822, -9.689269)

[node name="Bush_L5" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(1.6429081, -1.7444568e-09, -0.3792653, -0.15631443, 1.5362475, -0.6771254, 0.34555462, 0.69493383, 1.4968792, -15.33689, 0.4010885, -10.813349)

[node name="Bush_L6" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(1.1877403, 0.06617778, -1.1949401, -0.49319488, 1.5609977, -0.40377235, 1.090422, 0.6339511, 1.1189609, -6.214714, 0.15673172, -11.6209)

[node name="Bush_L7" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(-0.7234312, 0.26101026, 1.5005028, 0.631299, 1.5631365, 0.032460324, -1.3860365, 0.57573056, -0.7683914, 4.264106, -0.3473958, -12.222473)

[node name="Bush_L3" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(-0.5043798, 0.18969081, 1.2012446, -0.052310105, 1.295873, -0.22659782, -1.215004, -0.13453732, -0.48891202, 1.6014991, 0.4203822, -10.819572)

[node name="Bush_L4" parent="Bits" instance=ExtResource("4_yja0d")]
transform = Transform3D(-1.308105, -0.07530631, -0.12868774, -0.091046974, 1.3032923, 0.16281867, 0.118076496, 0.1706705, -1.3001153, 11.854364, 0.4203822, -11.300811)

[node name="Bush_S" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.13564634, 9.536743e-07, -5.229514)

[node name="Bush_S5" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.404007, 0, -2.926095)

[node name="Bush_S6" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(0.65401495, 0, 0.75648165, 0, 1, 0, -0.75648165, 0, 0.65401495, 12.412422, 0, 2.7676654)

[node name="Bush_S2" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(0.4043436, 0, 0.91460717, 0, 1, 0, -0.91460717, 0, 0.4043436, -11.116066, 9.536743e-07, -2.7259836)

[node name="Bush_S3" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(0.05731997, 0, -0.99835587, 0, 1, 0, 0.99835587, 0, 0.05731997, -5.2266684, 9.536743e-07, -5.9303117)

[node name="Bush_S4" parent="Bits" instance=ExtResource("5_d75n0")]
transform = Transform3D(0.05731997, 0, -0.99835587, 0, 1, 0, 0.99835587, 0, 0.05731997, 1.1431799, 1.9073486e-06, -6.220449)

[node name="Exits" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.278862, 0, 0)

[node name="Portal" parent="Exits" instance=ExtResource("2_df86j")]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 15.177259, 0, 0)

[node name="Spawn" type="Node3D" parent="Exits"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.4909654, 0, 3.8463798)

[node name="Buildings" type="Node3D" parent="."]

[node name="Fanfarenbauer" parent="Buildings" instance=ExtResource("4_no1lh")]
transform = Transform3D(0.29262212, 0, 0.95622814, 0, 1, 0, -0.95622814, 0, 0.29262212, 9.618123, -2.861023e-06, -5.5557327)
building_name = "Fanfarenbauer"
build_cost = Dictionary[int, int]({
0: 3,
1: 5,
2: 7
})

[node name="Gasthaus" parent="Buildings" instance=ExtResource("5_0prmd")]
transform = Transform3D(-0.2669356, 0, 0.9637144, 0, 1, 0, -0.9637144, 0, -0.2669356, 1.0095706, 0.024151415, -6.3187637)
building_name = "Gasthaus"
build_cost = Dictionary[int, int]({
0: 3,
1: 5,
2: 7
})

[node name="Lautenbauer" parent="Buildings" instance=ExtResource("5_w8tnc")]
transform = Transform3D(-0.67298675, 0, 0.73965454, 0, 1, 0, -0.73965454, 0, -0.67298675, -7.5347934, 1.9073486e-06, -5.492177)
building_name = "Lautenbauer"
build_cost = Dictionary[int, int]({
0: 3,
1: 5,
2: 7
})

[node name="Items" type="Node3D" parent="."]
