[gd_scene load_steps=16 format=3 uid="uid://bivf4jcutmgdo"]

[ext_resource type="Script" uid="uid://q46hat3a6486" path="res://Components/hit_emitter_box.gd" id="1_tqdmu"]
[ext_resource type="Script" uid="uid://cm0jhgrusjbxq" path="res://Instrument/attack_circle_area.gd" id="1_xv3mu"]
[ext_resource type="Script" uid="uid://buv1cjylhq6sg" path="res://Resources/_Resource_Scripts/hit_effect.gd" id="2_c4r5d"]
[ext_resource type="Script" uid="uid://b3i64m7rduvqh" path="res://Resources/_Resource_Scripts/status.gd" id="3_xv3mu"]
[ext_resource type="AudioStream" uid="uid://0l3sitsl4d1f" path="res://Instrument/SFX/Trumpet/Kreis_Bardcore_tr.wav" id="4_c4r5d"]
[ext_resource type="AudioStream" uid="uid://dtsfx3hsha42h" path="res://Instrument/SFX/BGM/place_sound.wav" id="6_rtdfi"]

[sub_resource type="Resource" id="Resource_rtdfi"]
script = ExtResource("2_c4r5d")
invincability_time = 0.0
metadata/_custom_type_script = "uid://buv1cjylhq6sg"

[sub_resource type="CylinderShape3D" id="CylinderShape3D_c4r5d"]

[sub_resource type="CylinderMesh" id="CylinderMesh_xv3mu"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rtdfi"]
albedo_color = Color(0.15455905, 0.56553996, 0, 1)

[sub_resource type="Resource" id="Resource_fqapy"]
script = ExtResource("2_c4r5d")
amount = 20.0
invincability_time = 0.0
metadata/_custom_type_script = "uid://buv1cjylhq6sg"

[sub_resource type="Curve" id="Curve_r8oy2"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.2991453, 0.8849558), 1.260733, 1.260733, 0, 0, Vector2(0.7307693, 0.5973452), -1.4955752, -1.4955752, 0, 0, Vector2(0.9871796, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_31l7u"]
curve = SubResource("Curve_r8oy2")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_mjlu1"]
emission_shape = 3
emission_box_extents = Vector3(0.455, 0.07, 1.69)
direction = Vector3(0, 1, 0)
spread = 5.0
initial_velocity_min = 1.0
initial_velocity_max = 3.0
scale_curve = SubResource("CurveTexture_31l7u")

[sub_resource type="PlaneMesh" id="PlaneMesh_lyutc"]
size = Vector2(0.3, 0.3)

[node name="AttackCircleArea" type="Node3D" node_paths=PackedStringArray("attack_sound")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.08055878)
script = ExtResource("1_xv3mu")
attack_sound = NodePath("AudioStreamPlayer3D")

[node name="hit_emitter_box" type="Area3D" parent="."]
transform = Transform3D(2.9354098, 0, 0, 0, 1, 0, 0, 0, 2.9354098, 0, -0.1664617, 0)
collision_layer = 0
collision_mask = 4
script = ExtResource("1_tqdmu")
interaction_effect = SubResource("Resource_rtdfi")
targets = Array[int]([1])
metadata/_custom_type_script = "uid://q46hat3a6486"

[node name="CollisionShape3D" type="CollisionShape3D" parent="hit_emitter_box"]
transform = Transform3D(2.5, 0, 0, 0, 1, 0, 0, 0, 2.5, 0, 0, 0)
shape = SubResource("CylinderShape3D_c4r5d")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("4_c4r5d")
volume_db = 10.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(7.2798166, 0, 0, 0, 0.025, 0, 0, 0, 7.2798166, 0, -1.4952427, 0)
mesh = SubResource("CylinderMesh_xv3mu")
surface_material_override/0 = SubResource("StandardMaterial3D_rtdfi")

[node name="hit_emitter_box2" type="Area3D" parent="."]
transform = Transform3D(2.9354098, 0, 0, 0, 1, 0, 0, 0, 2.9354098, 0, -0.1664617, 0)
collision_layer = 0
collision_mask = 4
script = ExtResource("1_tqdmu")
interaction_effect = SubResource("Resource_fqapy")
targets = Array[int]([1])
metadata/_custom_type_script = "uid://q46hat3a6486"

[node name="CollisionShape3D2" type="CollisionShape3D" parent="hit_emitter_box2"]
transform = Transform3D(2.5, 0, 0, 0, 1, 0, 0, 0, 2.5, 0, 0, 0)
shape = SubResource("CylinderShape3D_c4r5d")

[node name="DotSound" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("6_rtdfi")
volume_db = 30.0

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.0789976, -1.1263534)
emitting = false
amount = 50
amount_ratio = 0.2
lifetime = 0.7
one_shot = true
explosiveness = 0.85
process_material = SubResource("ParticleProcessMaterial_mjlu1")
draw_pass_1 = SubResource("PlaneMesh_lyutc")

[connection signal="finished" from="AudioStreamPlayer3D" to="." method="_on_audio_stream_player_3d_finished"]
